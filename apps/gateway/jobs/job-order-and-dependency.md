# Job Order, Difficulty, and Dependencies

This document outlines the recommended order for executing the jobs, their estimated difficulty, and their dependencies. Following this order will ensure a smooth implementation process.

| Order | Job File                      | Difficulty | Dependencies         | Notes / Sub-tasks                                                                                                                                                                                                                                                                                                                                                                             |
| :---: | ----------------------------- | :--------: | -------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|   1   | `01-code-cleanup.md`          |    Easy    | None                 | A straightforward starting point. Deleting code first clarifies the scope of what needs to be replaced.                                                                                                                                                                                                                                                                                       |
|   2   | `02-domain-layer.md`          |    Easy    | None                 | These are foundational entity and enum changes that almost all subsequent jobs will depend on.                                                                                                                                                                                                                                                                                                |
|   3   | `03-persistence-layer.md`     |   Medium   | `02-domain-layer.md` | Implements the core storage mechanism. It's important to have this built and tested before the application logic that uses it.                                                                                                                                                                                                                                                                |
|   4   | `04-connection-management.md` |   Medium   | None                 | This can be developed in parallel with Job 3 as it has no direct code dependencies. It's a self-contained unit managing in-memory state.                                                                                                                                                                                                                                                      |
|   5   | `05-app-logic-refactor.md`    |  **Hard**  | `02`, `03`, `04`     | **This job should be split into two distinct implementation steps:** <br> 1. **Refactor `WebscrapeService`**: This part only depends on Job `02` & `03`. <br> 2. **Refactor `ProcessCrawlResponseService`**: This part depends on Job `02`, `03`, & `04`. <br> It's recommended to implement and unit test them sequentially.                                                                 |
|   6   | `06-api-layer.md`             |  **Hard**  | `04`, `05`           | **This is the most complex job and should be broken down into smaller, testable parts:** <br> 1. Create the `auth.dto.ts` and `auth.handler.ts` (Depends on `03`, `04`). <br> 2. Refactor the `webscrape.handler.ts` (Depends on the `WebscrapeService` changes from `05`). <br> 3. Finally, refactor the `websocket.router.ts` to integrate the new authentication flow and message routing. |
|   7   | `07-dependency-injection.md`  |   Medium   | `01` - `06`          | This is the final step of wiring all the newly implemented components together in the application's composition root (`app.ts`).                                                                                                                                                                                                                                                              |
|   8   | `08-e2e-testing.md`           |    Hard    | `07`                 | End-to-end tests are the final validation step and should only be written after the entire feature is implemented, wired up, and unit-tested.                                                                                                                                                                                                                                                 |
