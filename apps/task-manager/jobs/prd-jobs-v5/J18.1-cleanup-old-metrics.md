# Job 18.1: Cleanup Old Metrics Files

## Objective

Remove all old metrics-related files to prepare for the new simplified metrics architecture.

## Status: ✅ COMPLETED

## Files to Delete

### 1. API Layer Cleanup

- **`src/api/rest/metrics.router.ts`**
  - **Why**: Consolidating into single `rest.router.ts`
  - **Test**: ✅ File completely removed

### 2. Common Layer Cleanup

- **`src/common/metrics/enhanced-metrics.service.ts`**

  - **Why**: Overly complex, wrong layer
  - **Test**: ✅ File completely removed

- **`src/common/metrics/business-metrics.service.ts`**

  - **Why**: Too complex, wrong layer
  - **Test**: ✅ File completely removed

- **`src/common/metrics/metrics.service.ts`**

  - **Why**: Generic, wrong layer
  - **Test**: ✅ File completely removed

- **`src/common/metrics/metrics.interface.ts`**

  - **Why**: Generic, wrong layer
  - **Test**: ✅ File completely removed

- **`src/common/metrics/metrics.types.ts`**

  - **Why**: Generic, wrong layer
  - **Test**: ✅ File completely removed

- **`src/common/metrics/simple-metrics.interface.ts`**

  - **Why**: Wrong layer (common instead of application)
  - **Test**: ✅ File completely removed

- **`src/common/metrics/simple-metrics.service.ts`**
  - **Why**: Wrong layer (common instead of application)
  - **Test**: ✅ File completely removed

## Test Criteria

### ✅ File Removal Tests

- [x] All 8 files listed above are completely removed
- [x] No orphaned imports referencing deleted files
- [x] No TypeScript compilation errors due to missing files
- [x] No linting errors due to missing files

### ✅ Import Cleanup Tests

- [x] Search for any imports of deleted files in remaining codebase
- [x] Verify no references to `enhanced-metrics`, `business-metrics`, `simple-metrics`
- [x] Check `app.ts` doesn't import old metrics router
- [x] Check `rest.router.ts` doesn't import old metrics services

### ✅ Build Verification Tests

- [x] `nx build task-manager` completes successfully
- [x] No TypeScript compilation errors
- [x] No import/export errors
- [x] No circular dependency issues

### ✅ Directory Structure Tests

- [x] `src/common/metrics/` directory completely removed
- [x] `src/api/rest/` only contains `rest.router.ts` and `health-check.router.ts`
- [x] No orphaned empty directories

## Success Criteria

- ✅ All 8 old metrics files completely removed
- ✅ No compilation or linting errors
- ✅ No orphaned imports or references
- ✅ Clean directory structure
- ✅ Build passes successfully

## Next Job

Cleanup is complete and all tests pass. Proceed to **Job 18.2: Infrastructure Layer Implementation**
