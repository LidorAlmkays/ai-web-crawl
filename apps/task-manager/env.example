# Task Manager Environment Configuration
# Copy this file to .env and update the values for your environment
# 
# This file contains all environment variables used by the Task Manager service.
# Configuration is organized into logical groups for easy management.

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment (development, production, test)
NODE_ENV=development

# Application configuration
APP_NAME=task-manager
APP_VERSION=1.0.0
APP_PORT=3000

# Performance configuration
GRACEFUL_SHUTDOWN_TIMEOUT=30000
REQUEST_TIMEOUT=30000

# =============================================================================
# REST API CONFIGURATION
# =============================================================================

# Health check configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PORT=3001
HEALTH_CHECK_PATH=/health

# CORS configuration
CORS_ENABLED=true
CORS_ORIGIN=*

# Metrics UI configuration
METRICS_DEFAULT_TIME_RANGE_HOURS=24
METRICS_AVAILABLE_TIME_RANGES=1,6,12,24,48,72
METRICS_REFRESH_INTERVAL_SECONDS=15

# =============================================================================
# OBSERVABILITY CONFIGURATION (OpenTelemetry)
# =============================================================================

# OTLP base endpoint (no path suffix - /v1/traces and /v1/logs are added automatically)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# Enable logs export via OTLP
OTEL_LOGS_ENABLED=true

# Enable/disable tracing
TRACING_ENABLED=true

# Trace sampling rate (0.0 to 1.0)
TRACING_SAMPLING_RATE=1.0

# Batch processor configuration
TRACING_MAX_QUEUE_SIZE=2048
TRACING_MAX_BATCH_SIZE=512
TRACING_DELAY_MS=5000
TRACING_TIMEOUT_MS=30000

# =============================================================================
# POSTGRESQL CONFIGURATION
# =============================================================================

# Required PostgreSQL configuration (with docker-compose defaults)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_DB=tasks_manager

# Optional PostgreSQL configuration
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_SSL=false
POSTGRES_MAX_CONNECTIONS=10
POSTGRES_IDLE_TIMEOUT=30000
POSTGRES_CONNECTION_TIMEOUT=10000
POSTGRES_QUERY_TIMEOUT=30000

# =============================================================================
# KAFKA CONFIGURATION
# =============================================================================

# Required Kafka configuration
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=task-manager
KAFKA_GROUP_ID=task-manager-group

# Kafka topic names
TASK_STATUS_TOPIC=task-status
WEB_CRAWL_REQUEST_TOPIC=requests-web-crawl

# Optional Kafka configuration (SSL, SASL, timeouts)
KAFKA_SSL_ENABLED=false
KAFKA_SASL_ENABLED=false
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=
KAFKA_SASL_MECHANISM=plain
KAFKA_CONNECTION_TIMEOUT=3000
KAFKA_REQUEST_TIMEOUT=30000
KAFKA_SESSION_TIMEOUT=30000
KAFKA_HEARTBEAT_INTERVAL=3000
KAFKA_RETRY_BACKOFF=100
KAFKA_MAX_RETRY_ATTEMPTS=3

# =============================================================================
# PRODUCTION EXAMPLE
# =============================================================================

# For production environments, you would typically set:
# NODE_ENV=production
# POSTGRES_SSL=true
# KAFKA_SSL_ENABLED=true
# KAFKA_SASL_ENABLED=true
# KAFKA_SASL_USERNAME=your-kafka-username
# KAFKA_SASL_PASSWORD=your-kafka-password
# TRACING_SAMPLING_RATE=0.1
# OTEL_LOGS_ENABLED=false

# =============================================================================
# DOCKER EXAMPLE
# =============================================================================

# For Docker environments, you might set:
# POSTGRES_HOST=postgres
# KAFKA_BROKERS=kafka:9092
# APP_PORT=3000
# HEALTH_CHECK_PORT=3001
